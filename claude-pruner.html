<!DOCTYPE html>
<html>
<head>
    <title>Claude Pruner</title>
    <meta charset="utf-8">
    <script>
        window.addEventListener('message', (event) => {
            // Verify the sender origin
            if (event.origin !== "https://claude.ai") return;
            
            if (event.data.type === 'claude-conversation') {
                console.log('Received conversation data:', event.data.data);
                // Once this works, we can add the full export functionality
                document.body.innerHTML = `
                    <div>Received ${event.data.data.chat_messages.length} messages</div>
                    <pre>${JSON.stringify(event.data.data.chat_messages[0], null, 2)}</pre>
                `;
            }
        });
    </script>
</head>
<body>
    <h1>Waiting for conversation data...</h1>
</body>
</html>
