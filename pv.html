<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>GitHub/Gist &amp; BitBucket HTML Preview</title>
	<style>
	:root {
		--bg-color: #ffffff;
		--text-color: #333333;
		--link-color: #666666;
		--highlight-bg: #FAFFA6;
		--highlight-text: #333333;
		--button-bg: #f0f0f0;
		--button-text: #333333;
		--button-border: #ccc;
	}

	[data-theme="dark"] {
		--bg-color: #1a1a1a;
		--text-color: #e0e0e0;
		--link-color: #9a9a9a;
		--highlight-bg: #3a3a00;
		--highlight-text: #ffff99;
		--button-bg: #2a2a2a;
		--button-text: #e0e0e0;
		--button-border: #444;
	}

	body {
		font: 12px 'Helvetica Neue', Helvetica, Arial, freesans, clean, sans-serif;
		color: var(--text-color);
		background-color: var(--bg-color);
	}
	h1 {
		font-size: 20px;
		color: var(--text-color);
	}
	a {
		color: var(--link-color);
	}
	#previewform {
		display: none;
		padding: 20px;
		text-align: center;
	}
	strong {
		color: var(--highlight-text);
		background-color: var(--highlight-bg);
		padding: 0.1em;
	}
	#footer {
		margin: 20px 0;
		font-size: 10px;
		color: var(--link-color);
	}

	/* Theme toggle button - stays fixed on screen */
	#theme-controls {
		position: fixed;
		top: 10px;
		right: 10px;
		z-index: 10000;
		display: flex;
		gap: 5px;
		background: var(--button-bg);
		border: 1px solid var(--button-border);
		border-radius: 5px;
		padding: 5px;
		box-shadow: 0 2px 5px rgba(0,0,0,0.2);
	}

	#theme-controls button {
		background: var(--button-bg);
		color: var(--button-text);
		border: 1px solid var(--button-border);
		border-radius: 3px;
		padding: 5px 10px;
		cursor: pointer;
		font-size: 11px;
	}

	#theme-controls button:hover {
		opacity: 0.8;
	}

	#theme-controls button.active {
		background: var(--link-color);
		color: var(--bg-color);
		font-weight: bold;
	}

	#back-button {
		background: var(--button-bg);
		color: var(--button-text);
		border: 1px solid var(--button-border);
		border-radius: 3px;
		padding: 5px 10px;
		cursor: pointer;
		font-size: 11px;
		margin-right: 10px;
	}

	#back-button:hover {
		opacity: 0.8;
	}
	</style>
</head>
<body>
	<!-- Theme controls - always visible -->
	<div id="theme-controls">
		<button id="back-button" style="display:none;" onclick="location.href='/pv.html';return false;" title="Back to form">Back</button>
		<button data-theme="light" title="Light theme">Light</button>
		<button data-theme="auto" title="Auto (system preference)">Auto</button>
		<button data-theme="dark" title="Dark theme">Dark</button>
	</div>

	<form id="previewform" onsubmit="location.href='/pv.html?'+this.file.value;return false">
		<h1>GitHub/Gist &amp; BitBucket HTML Preview</h1>

		<div id="error-display" style="display:none; background: #ffebee; border: 1px solid #f44336; border-radius: 5px; padding: 15px; margin: 10px 0; color: #c62828;">
			<strong>Error:</strong> <span id="error-message"></span>
			<br><button onclick="document.getElementById('error-display').style.display='none'; return false;" style="margin-top: 10px; padding: 5px 10px; cursor: pointer;">Dismiss</button>
		</div>

		<div id="loading-display" style="display:none; background: #e3f2fd; border: 1px solid #2196f3; border-radius: 5px; padding: 15px; margin: 10px 0; color: #1565c0;">
			<strong>Loading...</strong> <span id="loading-message">Fetching content</span>
		</div>

		<p>
			Enter URL of the HTML file to preview, or a Gist ID:
			<input type="url" id="file" value="" placeholder="e.g. gistid/filename or https://gist.github.com/..." size="60" autofocus>
			<input type="submit" value="Preview">
		</p>
		<p>Examples:</p>
		<ul style="text-align: left; max-width: 600px; margin: 0 auto;">
			<li><code>gist.github.com/oaustegard/a1902d995b5c6157a9eaf69afa355723</code></li>
			<li><code>a1902d995b5c6157a9eaf69afa355723</code> (loads first HTML file)</li>
			<li><code>a1902d995b5c6157a9eaf69afa355723/helloworld.html</code> (loads specific file)</li>
		</ul>
		<p>or prepend to any gist URL: <code><strong>https://austegard.com/pv?</strong>gist.github.com/username/gistid</code></p>
		<p id="footer">Developed by <a href="https://github.com/niutech">niu tech</a> | Contribute on <a href="https://github.com/htmlpreview/htmlpreview.github.com">GitHub</a></p>
	</form>
	<sub><a href="https://github.com/htmlpreview/htmlpreview.github.com#license"><b>License</b></a> © 2019 Jerzy Głowacki under Apache License 2.0.</sub>
	<script src="/scripts/htmlpreview.js"></script>
</body>
</html>
