<!DOCTYPE html>
<html>
<head>
    <title>Test Claude Pruner</title>
</head>
<body>
    <iframe src="ai-tools/claude-pruner.html" width="100%" height="800px"></iframe>
    <script>
        const conversation = {
            "chat_messages": [
                {
                    "uuid": "f2e51920-679f-442a-a82f-5374f177b949",
                    "sender": "human",
                    "text": "Hello!",
                    "created_at": "2024-05-21T10:00:00Z",
                    "content": [{ "type": "text", "text": "Hello!" }]
                },
                {
                    "uuid": "e8a342e4-92e1-4560-9b8e-3a2b6c9a7d8f",
                    "sender": "assistant",
                    "text": "Hi there!",
                    "created_at": "2024-05-21T10:00:05Z",
                    "content": [{ "type": "text", "text": "Hi there!" }]
                },
                {
                    "uuid": "c3c3a9f0-28ea-4f9e-a9b3-4f51b6e2d3e1",
                    "sender": "assistant",
                    "created_at": "2024-05-21T10:00:10Z",
                    "content": [
                        { "type": "thinking", "thinking": "Thinking about what to do next...", "summaries": [{ "summary": "Thinking about the next step." }], "start_timestamp": "2024-05-21T10:00:08Z" }
                    ]
                },
                {
                    "uuid": "b2c3a9f0-28ea-4f9e-a9b3-4f51b6e2d3e1",
                    "sender": "assistant",
                    "created_at": "2024-05-21T10:00:15Z",
                    "content": [
                        { "type": "tool_use", "name": "run_in_bash_session", "input": {"command": "ls -l"}, "start_timestamp": "2024-05-21T10:00:12Z" }
                    ]
                },
                {
                    "uuid": "a2c3a9f0-28ea-4f9e-a9b3-4f51b6e2d3e1",
                    "sender": "assistant",
                    "created_at": "2024-05-21T10:00:20Z",
                    "content": [
                        { "type": "tool_result", "name": "run_in_bash_session", "content": "total 1\n-rw-r--r-- 1 user user 0 May 21 10:00 test.html", "start_timestamp": "2024-05-21T10:00:18Z" }
                    ]
                }
            ]
        };

        const iframe = document.querySelector('iframe');
        iframe.onload = () => {
            iframe.contentWindow.postMessage({ type: 'claude-conversation', data: conversation }, '*');
        };
    </script>
</body>
</html>
